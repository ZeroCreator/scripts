# scripts

```
SSSSSSS    CCCCCC   RRRRRR    IIIII   PPPPPP   TTTTTTT  SSSSSSS
S         C         R     R     I     P     P     T     S
 SSSSS    C         RRRRRR      I     PPPPPP      T      SSSSS
      S   C         R   R       I     P           T           S
SSSSSSS    CCCCCC   R    R    IIIII   P           T     SSSSSSS
``` 

üöÄ **Scripts** - –ø–∞–∫–µ—Ç —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è DevOps-—Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤.


---
## üõ† –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∑–∞–ø—É—Å–∫—É –∏ –∑–∞–ø—É—Å–∫

–í–Ω–∞—á–∞–ª–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ñ–∞–π–ª **config.env** —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (*–ø—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è*):

```dotenv
# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞
WORKDIR=/path/to/project
LOGDIR=/path/to/logs
PROJECT_NAME=project_name

# TELEGRAM
TELEGRAM_TOKEN="<telegram-token>"
TELEGRAM_CHAT_ID="<telegram_chat_id>"

# –î–ª—è —Å–∫—Ä–∏–ø—Ç–∞ redeploy
DOCKER_REGISTRY="<docker-registry_url>"

# –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
LOG_FILE="/path/to/log.log"
CONTAINER_NAME="<container_name>"
TIMESTAMP_HOST_FILE="/path/to/project_timestamp_file.txt"
TIME_DELTA=<time_delta>

# –î–ª—è proxy-scheduler
DATE_FILE="/path/to/initial_date.txt"
MESSAGE="<message>"
PAST_DATE="<past_date>"
```

---
## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `mkdocs` –Ω–∞ **GitHub**:

‚û°Ô∏è https://zerocreator.github.io/scripts/.

---

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ **–ª–æ–∫–∞–ª—å–Ω–æ** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

1Ô∏è‚É£.  –°–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (*–ø—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è*):

```bash
$ python3 -m venv scripts_venv
$ source scripts_venv/bin/activate
```

2Ô∏è‚É£.  –ó–∞—Ç–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã mkdocs (*–ø—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è*):

```bash
$ cd scripts
$ pip3 install mkdocs
$ pip install mkdocs-material
```

3Ô∏è‚É£.  –ó–∞–ø—É—Å—Ç–∏—Ç—å üìù mkdocs:

```bash
$ mkdocs serve
```

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ **–ª–æ–∫–∞–ª—å–Ω–æ** –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:8000

---
### –°–±–æ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è **GitHub**:

–í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É:

```bash
$ mkdocs gh-deploy
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

  - –°–æ–±–µ—Ä–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.
  - –°–æ–∑–¥–∞—Å—Ç –≤–µ—Ç–∫—É gh-pages –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –µ—Å–ª–∏ –æ–Ω–∞ –µ—â–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
  - –ó–∞–≥—Ä—É–∑–∏—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –≤–µ—Ç–∫—É gh-pages.

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ **GitHub Pages**, üìù –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

‚û°Ô∏è https://yourusername.github.io/my_project/

–ï—Å–ª–∏ –≤–Ω–æ—Å—è—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `mkdocs gh-deploy`, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å 
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞ **GitHub Pages**.

---
## ‚è∞ –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–∏

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏–ø–æ–ª—å–∑—É–µ—Ç—Å—è **crontab** –∏ —É—Ç–∏–ª–∏—Ç–∞ **at**.

–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é —É—Ç–∏–ª–∏—Ç—ã **at**:
```bash
$ echo "/path/to/scripts/script_name.sh /path/to/scripts/config.env >> /path/to/scripts/script_log.log 2>&1" | at <h>:<m> <YY>-<m>-<d>
```

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `atq`:
```bash
$ atq
```

–ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∑–∞–¥–∞—á—É, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `atrm` —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–æ–º–µ—Ä–∞ –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å –ø–æ–º–æ—â—å—é `atq`:
```bash
$ atrm 1
```
   
–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é **crontab**:

–í–æ–π—Ç–∏ –≤ crontab:
```bash
$ crontab - e
```

–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞:
```bash
30 2 * * * /path/to/your/script.sh || /path/to/send_telegram_message.sh "Cron job failed!"
```
